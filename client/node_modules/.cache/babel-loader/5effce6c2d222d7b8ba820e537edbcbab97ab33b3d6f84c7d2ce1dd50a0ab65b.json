{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FaUsers,FaUserMd,FaCalendarAlt,FaClock}from'react-icons/fa';import axios from'axios';import{API_BASE_URL}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[stats,setStats]=useState(null);const[recentAppointments,setRecentAppointments]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchDashboardData();},[]);const fetchDashboardData=async()=>{try{setLoading(true);const[statsResponse,appointmentsResponse]=await Promise.all([axios.get(`${API_BASE_URL}/api/dashboard/stats`),axios.get(`${API_BASE_URL}/api/dashboard/recent-appointments`)]);setStats(statsResponse.data);setRecentAppointments(appointmentsResponse.data);}catch(err){setError('Failed to load dashboard data');console.error('Dashboard error:',err);}finally{setLoading(false);}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};const formatTime=timeString=>{return timeString;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading dashboard...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Dashboard\"}),stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaUsers,{size:24,color:\"#007bff\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Total Patients\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.totalPatients})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaUserMd,{size:24,color:\"#28a745\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Total Doctors\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.totalDoctors})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaCalendarAlt,{size:24,color:\"#ffc107\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Total Appointments\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.totalAppointments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaClock,{size:24,color:\"#dc3545\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Today's Appointments\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.todayAppointments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaCalendarAlt,{size:24,color:\"#17a2b8\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Pending Appointments\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.pendingAppointments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaCalendarAlt,{size:24,color:\"#28a745\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Completed Appointments\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.completedAppointments})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recent Appointments\"}),recentAppointments.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Patient\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recentAppointments.map(appointment=>{var _appointment$patient,_appointment$doctor;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(_appointment$patient=appointment.patient)===null||_appointment$patient===void 0?void 0:_appointment$patient.name}),/*#__PURE__*/_jsx(\"td\",{children:(_appointment$doctor=appointment.doctor)===null||_appointment$doctor===void 0?void 0:_appointment$doctor.name}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(appointment.appointmentDate)}),/*#__PURE__*/_jsx(\"td\",{children:formatTime(appointment.appointmentTime)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`status status-${appointment.status}`,children:appointment.status})})]},appointment._id);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No recent appointments\"})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","FaUsers","FaUserMd","FaCalendarAlt","FaClock","axios","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Dashboard","stats","setStats","recentAppointments","setRecentAppointments","loading","setLoading","error","setError","fetchDashboardData","statsResponse","appointmentsResponse","Promise","all","get","data","err","console","formatDate","dateString","Date","toLocaleDateString","formatTime","timeString","className","children","size","color","totalPatients","totalDoctors","totalAppointments","todayAppointments","pendingAppointments","completedAppointments","length","map","appointment","_appointment$patient","_appointment$doctor","patient","name","doctor","appointmentDate","appointmentTime","status","_id"],"sources":["C:/Users/munga/OneDrive/Desktop/FULLSTACK/client/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaUsers, FaUserMd, FaCalendarAlt, FaClock } from 'react-icons/fa';\r\nimport axios from 'axios';\r\nimport { API_BASE_URL } from '../config';\r\n\r\nconst Dashboard = () => {\r\n  const [stats, setStats] = useState(null);\r\n  const [recentAppointments, setRecentAppointments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [statsResponse, appointmentsResponse] = await Promise.all([\r\n        axios.get(`${API_BASE_URL}/api/dashboard/stats`),\r\n        axios.get(`${API_BASE_URL}/api/dashboard/recent-appointments`)\r\n      ]);\r\n\r\n      setStats(statsResponse.data);\r\n      setRecentAppointments(appointmentsResponse.data);\r\n    } catch (err) {\r\n      setError('Failed to load dashboard data');\r\n      console.error('Dashboard error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString();\r\n  };\r\n\r\n  const formatTime = (timeString) => {\r\n    return timeString;\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading dashboard...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"page-title\">Dashboard</h1>\r\n      \r\n      {stats && (\r\n        <div className=\"stats-grid\">\r\n          <div className=\"stat-card\">\r\n            <FaUsers size={24} color=\"#007bff\" />\r\n            <h3>Total Patients</h3>\r\n            <p>{stats.totalPatients}</p>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <FaUserMd size={24} color=\"#28a745\" />\r\n            <h3>Total Doctors</h3>\r\n            <p>{stats.totalDoctors}</p>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <FaCalendarAlt size={24} color=\"#ffc107\" />\r\n            <h3>Total Appointments</h3>\r\n            <p>{stats.totalAppointments}</p>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <FaClock size={24} color=\"#dc3545\" />\r\n            <h3>Today's Appointments</h3>\r\n            <p>{stats.todayAppointments}</p>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <FaCalendarAlt size={24} color=\"#17a2b8\" />\r\n            <h3>Pending Appointments</h3>\r\n            <p>{stats.pendingAppointments}</p>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <FaCalendarAlt size={24} color=\"#28a745\" />\r\n            <h3>Completed Appointments</h3>\r\n            <p>{stats.completedAppointments}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"card\">\r\n        <h2>Recent Appointments</h2>\r\n        {recentAppointments.length > 0 ? (\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Patient</th>\r\n                <th>Doctor</th>\r\n                <th>Date</th>\r\n                <th>Time</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {recentAppointments.map((appointment) => (\r\n                <tr key={appointment._id}>\r\n                  <td>{appointment.patient?.name}</td>\r\n                  <td>{appointment.doctor?.name}</td>\r\n                  <td>{formatDate(appointment.appointmentDate)}</td>\r\n                  <td>{formatTime(appointment.appointmentTime)}</td>\r\n                  <td>\r\n                    <span className={`status status-${appointment.status}`}>\r\n                      {appointment.status}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>No recent appointments</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}